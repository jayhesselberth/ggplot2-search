<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Construct labelling specification — labeller • ggplot2</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
<meta property="og:title" content="Construct labelling specification — labeller" />

<meta property="og:description" content="This function makes it easy to assign different labellers to
different factors. The labeller can be a function or it can be a
named character vectors that will serve as a lookup table." />

<meta property="og:image" content="http://ggplot2-search.netlify.com/logo.png" />
<meta name="twitter:card" content="summary" />


<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->




<!-- docsearch -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />

  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ggplot2</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">2.2.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/ggplot2-specs.html">Aesthetic specifications</a>
    </li>
    <li>
      <a href="../articles/extending-ggplot2.html">Extending ggplot2</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    News
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Release notes</li>
    <li>
      <a href="../articles/releases/ggplot2-2.2.0.html">Version 2.2.0</a>
    </li>
    <li>
      <a href="../articles/releases/ggplot2-2.1.0.html">Version 2.1.0</a>
    </li>
    <li>
      <a href="../articles/releases/ggplot2-2.0.0.html">Version 2.0.0</a>
    </li>
    <li>
      <a href="../articles/releases/ggplot2-1.0.0.html">Version 1.0.0</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="../news/index.html">Change log</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/tidyverse/ggplot2">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right" role="search">
        <div class="form-group">
          <input type="search" class="form-control" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Construct labelling specification</h1>
    <small>Source: <a href='https://github.com/tidyverse/ggplot2/blob/master/R/labeller.r'><code>R/labeller.r</code></a></small>
    <div class="hidden name"><code>labeller.Rd</code></div>
    </div>

    
    <p>This function makes it easy to assign different labellers to
different factors. The labeller can be a function or it can be a
named character vectors that will serve as a lookup table.</p>
    

    <pre class="usage"><span class='fu'>labeller</span>(<span class='no'>...</span>, <span class='kw'>.rows</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>.cols</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>keep.as.numeric</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>.multi_line</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>.default</span> <span class='kw'>=</span> <span class='no'>label_value</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>...</th>
      <td><p>Named arguments of the form <code>variable =
  labeller</code>. Each labeller is passed to <code><a href='as_labeller.html'>as_labeller()</a></code>
and can be a lookup table, a function taking and returning
character vectors, or simply a labeller function.</p></td>
    </tr>
    <tr>
      <th>.rows, .cols</th>
      <td><p>Labeller for a whole margin (either the rows or
the columns). It is passed to <code><a href='as_labeller.html'>as_labeller()</a></code>. When a
margin-wide labeller is set, make sure you don't mention in
<code>...</code> any variable belonging to the margin.</p></td>
    </tr>
    <tr>
      <th>keep.as.numeric</th>
      <td><p>Deprecated. All supplied labellers and
on-labeller functions should be able to work with character
labels.</p></td>
    </tr>
    <tr>
      <th>.multi_line</th>
      <td><p>Whether to display the labels of multiple
factors on separate lines. This is passed to the labeller
function.</p></td>
    </tr>
    <tr>
      <th>.default</th>
      <td><p>Default labeller for variables not specified. Also
used with lookup tables or non-labeller functions.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A labeller function to supply to <code><a href='facet_grid.html'>facet_grid()</a></code>
for the argument <code>labeller</code>.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>In case of functions, if the labeller has class <code>labeller</code>, it
is directly applied on the data frame of labels. Otherwise, it is
applied to the columns of the data frame of labels. The data frame
is then processed with the function specified in the
<code>.default</code> argument. This is intended to be used with
functions taking a character vector such as
<code><a href='http://www.rdocumentation.org/packages/Hmisc/topics/capitalize'>Hmisc::capitalize()</a></code>.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='as_labeller.html'>as_labeller()</a></code>, <a href='labellers.html'>labellers</a></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>p1</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='ggplot.html'>ggplot</a></span>(<span class='no'>mtcars</span>, <span class='fu'><a href='aes.html'>aes</a></span>(<span class='kw'>x</span> <span class='kw'>=</span> <span class='no'>mpg</span>, <span class='kw'>y</span> <span class='kw'>=</span> <span class='no'>wt</span>)) + <span class='fu'><a href='geom_point.html'>geom_point</a></span>()

<span class='co'># You can assign different labellers to variables:</span>
<span class='no'>p1</span> + <span class='fu'><a href='facet_grid.html'>facet_grid</a></span>(<span class='no'>vs</span> + <span class='no'>am</span> ~ <span class='no'>gear</span>,
  <span class='kw'>labeller</span> <span class='kw'>=</span> <span class='fu'>labeller</span>(<span class='kw'>vs</span> <span class='kw'>=</span> <span class='no'>label_both</span>, <span class='kw'>am</span> <span class='kw'>=</span> <span class='no'>label_value</span>))</div><div class='output co'>#&gt; <span class='error'>Error: 'as_quosures' is not an exported object from 'namespace:rlang'</span></div><div class='input'>
<span class='co'># Or whole margins:</span>
<span class='no'>p1</span> + <span class='fu'><a href='facet_grid.html'>facet_grid</a></span>(<span class='no'>vs</span> + <span class='no'>am</span> ~ <span class='no'>gear</span>,
  <span class='kw'>labeller</span> <span class='kw'>=</span> <span class='fu'>labeller</span>(<span class='kw'>.rows</span> <span class='kw'>=</span> <span class='no'>label_both</span>, <span class='kw'>.cols</span> <span class='kw'>=</span> <span class='no'>label_value</span>))</div><div class='output co'>#&gt; <span class='error'>Error: 'as_quosures' is not an exported object from 'namespace:rlang'</span></div><div class='input'>
<span class='co'># You can supply functions operating on strings:</span>
<span class='no'>capitalize</span> <span class='kw'>&lt;-</span> <span class='kw'>function</span>(<span class='no'>string</span>) {
  <span class='fu'>substr</span>(<span class='no'>string</span>, <span class='fl'>1</span>, <span class='fl'>1</span>) <span class='kw'>&lt;-</span> <span class='fu'>toupper</span>(<span class='fu'>substr</span>(<span class='no'>string</span>, <span class='fl'>1</span>, <span class='fl'>1</span>))
  <span class='no'>string</span>
}
<span class='no'>p2</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='ggplot.html'>ggplot</a></span>(<span class='no'>msleep</span>, <span class='fu'><a href='aes.html'>aes</a></span>(<span class='kw'>x</span> <span class='kw'>=</span> <span class='no'>sleep_total</span>, <span class='kw'>y</span> <span class='kw'>=</span> <span class='no'>awake</span>)) + <span class='fu'><a href='geom_point.html'>geom_point</a></span>()
<span class='no'>p2</span> + <span class='fu'><a href='facet_grid.html'>facet_grid</a></span>(<span class='no'>vore</span> ~ <span class='no'>conservation</span>, <span class='kw'>labeller</span> <span class='kw'>=</span> <span class='fu'>labeller</span>(<span class='kw'>vore</span> <span class='kw'>=</span> <span class='no'>capitalize</span>))</div><div class='output co'>#&gt; <span class='error'>Error: 'as_quosures' is not an exported object from 'namespace:rlang'</span></div><div class='input'>
<span class='co'># Or use character vectors as lookup tables:</span>
<span class='no'>conservation_status</span> <span class='kw'>&lt;-</span> <span class='fu'>c</span>(
  <span class='kw'>cd</span> <span class='kw'>=</span> <span class='st'>"Conservation Dependent"</span>,
  <span class='kw'>en</span> <span class='kw'>=</span> <span class='st'>"Endangered"</span>,
  <span class='kw'>lc</span> <span class='kw'>=</span> <span class='st'>"Least concern"</span>,
  <span class='kw'>nt</span> <span class='kw'>=</span> <span class='st'>"Near Threatened"</span>,
  <span class='kw'>vu</span> <span class='kw'>=</span> <span class='st'>"Vulnerable"</span>,
  <span class='kw'>domesticated</span> <span class='kw'>=</span> <span class='st'>"Domesticated"</span>
)
<span class='co'>## Source: http://en.wikipedia.org/wiki/Wikipedia:Conservation_status</span>

<span class='no'>p2</span> + <span class='fu'><a href='facet_grid.html'>facet_grid</a></span>(<span class='no'>vore</span> ~ <span class='no'>conservation</span>, <span class='kw'>labeller</span> <span class='kw'>=</span> <span class='fu'>labeller</span>(
  <span class='kw'>.default</span> <span class='kw'>=</span> <span class='no'>capitalize</span>,
  <span class='kw'>conservation</span> <span class='kw'>=</span> <span class='no'>conservation_status</span>
))</div><div class='output co'>#&gt; <span class='error'>Error: 'as_quosures' is not an exported object from 'namespace:rlang'</span></div><div class='input'>
<span class='co'># In the following example, we rename the levels to the long form,</span>
<span class='co'># then apply a wrap labeller to the columns to prevent cropped text</span>
<span class='no'>msleep</span>$<span class='no'>conservation2</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>plyr</span><span class='kw ns'>::</span><span class='fu'><a href='http://www.rdocumentation.org/packages/plyr/topics/revalue'>revalue</a></span>(<span class='no'>msleep</span>$<span class='no'>conservation</span>,
  <span class='no'>conservation_status</span>)

<span class='no'>p2</span> <span class='kw'>%+%</span> <span class='no'>msleep</span> + <span class='fu'><a href='facet_grid.html'>facet_grid</a></span>(<span class='no'>vore</span> ~ <span class='no'>conservation2</span>)</div><div class='output co'>#&gt; <span class='error'>Error: 'as_quosures' is not an exported object from 'namespace:rlang'</span></div><div class='input'><span class='no'>p2</span> <span class='kw'>%+%</span> <span class='no'>msleep</span> +
  <span class='fu'><a href='facet_grid.html'>facet_grid</a></span>(<span class='no'>vore</span> ~ <span class='no'>conservation2</span>,
    <span class='kw'>labeller</span> <span class='kw'>=</span> <span class='fu'>labeller</span>(<span class='kw'>conservation2</span> <span class='kw'>=</span> <span class='fu'><a href='labellers.html'>label_wrap_gen</a></span>(<span class='fl'>10</span>))
  )</div><div class='output co'>#&gt; <span class='error'>Error: 'as_quosures' is not an exported object from 'namespace:rlang'</span></div><div class='input'>
<span class='co'># labeller() is especially useful to act as a global labeller. You</span>
<span class='co'># can set it up once and use it on a range of different plots with</span>
<span class='co'># different facet specifications.</span>

<span class='no'>global_labeller</span> <span class='kw'>&lt;-</span> <span class='fu'>labeller</span>(
  <span class='kw'>vore</span> <span class='kw'>=</span> <span class='no'>capitalize</span>,
  <span class='kw'>conservation</span> <span class='kw'>=</span> <span class='no'>conservation_status</span>,
  <span class='kw'>conservation2</span> <span class='kw'>=</span> <span class='fu'><a href='labellers.html'>label_wrap_gen</a></span>(<span class='fl'>10</span>),
  <span class='kw'>.default</span> <span class='kw'>=</span> <span class='no'>label_both</span>
)

<span class='no'>p2</span> + <span class='fu'><a href='facet_grid.html'>facet_grid</a></span>(<span class='no'>vore</span> ~ <span class='no'>conservation</span>, <span class='kw'>labeller</span> <span class='kw'>=</span> <span class='no'>global_labeller</span>)</div><div class='output co'>#&gt; <span class='error'>Error: 'as_quosures' is not an exported object from 'namespace:rlang'</span></div><div class='input'><span class='no'>p2</span> + <span class='fu'><a href='facet_wrap.html'>facet_wrap</a></span>(~<span class='no'>vore</span>, <span class='kw'>labeller</span> <span class='kw'>=</span> <span class='no'>global_labeller</span>)</div><div class='output co'>#&gt; <span class='error'>Error: 'as_quosures' is not an exported object from 'namespace:rlang'</span></div><div class='input'><span class='no'>p2</span> <span class='kw'>%+%</span> <span class='no'>msleep</span> + <span class='fu'><a href='facet_wrap.html'>facet_wrap</a></span>(~<span class='no'>conservation2</span>, <span class='kw'>labeller</span> <span class='kw'>=</span> <span class='no'>global_labeller</span>)</div><div class='output co'>#&gt; <span class='error'>Error: 'as_quosures' is not an exported object from 'namespace:rlang'</span></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by <a href='http://hadley.nz'>Hadley Wickham</a>, Winston Chang.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script>
  docsearch({
    appId: 'TK8WB6UEB2',
    apiKey: 'c871e0fb692cad1373a189fc7fe65300',
    indexName: 'ggplot2-search',
    inputSelector: 'input#search-input.form-control',
    debug: true // Set debug to true if you want to inspect the dropdown
  });
</script>


  </body>
</html>

